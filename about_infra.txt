The diagram shows two databases in the Database Subnets (10.0.30.0/24 and 10.0.31.0/24), with connections secured via Security Groups, private subnets. Here's a detailed breakdown:

Connection for RDS SQL Server (for App1, App2, App3):
Source of Connection:
App1, App2, and App3 are running as pods in the EKS cluster (in EKS Private Subnets: 10.0.10.0/24, 10.0.11.0/24, 10.0.12.0/24).
These pods communicate with the RDS SQL Server via ClusterIP Services (e.g., app1-svc:8080, app2-svc:8081, app3-svc:8082) and the EKS Ingress (which routes traffic internally).

Destination:
RDS SQL Server is a Multi-AZ deployment with a primary instance in AZ-1 (IP: 10.0.30.10, Port: 1433) and a standby in AZ-2 (IP: 10.0.31.10, Port: 1433).
The endpoint for RDS SQL Server is sql.xxx.rds.amazonaws.com, which resolves to the primary instance for connections.

How the Connection Works:
Network Path: Since both EKS Worker Nodes and RDS are in private subnets within the same VPC (10.0.0.0/16), the connection is internal and doesn't traverse the internet. This uses private IP addresses or the RDS endpoint for direct communication.
Protocol and Security:
Port: 1433 (SQL Server's default port).
Encryption: TLS is enabled for the connection, ensuring data in transit is encrypted.
Security Groups:
EKS Node SG: Allows outbound traffic from EKS Worker Nodes to RDS SQL SG on port 1433.
RDS SQL SG: Allows inbound traffic on port 1433 only from EKS Node SG. This restricts access to only authorized sources.
Additional Controls: Network Policies in the EKS cluster enforce pod-to-pod communication and DB access.
Authentication: Applications use credentials stored in AWS Secrets Manager to authenticate.

Connection for RDS Oracle (for App4, App5)
Source of Connection:
App4 and App5 are hosted on Windows Server 2022 EC2 instances (in Windows Private Subnets: 10.0.20.0/24 and 10.0.21.0/24).
These instances (e.g., IP: 10.0.20.10 for App4 and 10.0.21.10 for App5) run IIS 10.0 and use the Oracle Client (ODAC) to connect to the database.

Destination:
RDS Oracle is a Multi-AZ deployment with a primary instance in AZ-1 (IP: 10.0.30.20, Port: 1521) and a standby in AZ-2 (IP: 10.0.31.20, Port: 1521).
The endpoint for RDS Oracle is oracle.xxx.rds.amazonaws.com, which resolves to the primary instance.

How the Connection Works:
Network Path: Similar to RDS SQL, this is an internal VPC connection. Windows Servers in private subnets connect directly to RDS Oracle in database subnets using private IPs or the RDS endpoint.
Protocol and Security:
Port: 1521 (Oracle's default port).
Encryption: TLS is enabled, encrypting data in transit.
Security Groups:
Windows SG: Allows outbound traffic from Windows Servers to RDS Oracle SG on port 1521.
RDS Oracle SG: Allows inbound traffic on port 1521 only from Windows SG, ensuring only authorized EC2 instances can connect.
Additional Controls: The Windows Servers have the Oracle Client installed, and credentials are managed via AWS Secrets Manager.
